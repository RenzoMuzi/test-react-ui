import React,{Component}from"react";import classNames from"classnames";import PropTypes from"prop-types";var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Modes={Display:"display",Edit:"edit"},EditableText=function(e){function t(e){classCallCheck(this,t);var a=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleOnKeyDown=function(e){var t=e.key;a.isEnter(t)?(a.setState({mode:Modes.Display}),a.fireOnChange()):a.isEsc(t)&&a.setState({mode:Modes.Display})},a.handleOnChange=function(e){a.setState({localText:e.target.value})},a.handleOnBlur=function(){a.props.saveButtons||(a.setState({mode:Modes.Display}),a.fireOnChange())},a.handleOnClick=function(e){var t=a.props,n=t.isEditable,s=t.text;n&&(a.setState({mode:Modes.Edit,localText:s}),e.stopPropagation())},a.handleOnCancel=function(){return a.setState({mode:Modes.Display})},a.handleOnSave=function(){a.setState({mode:Modes.Display}),a.fireOnChange()},a.renderSaveButtons=function(){var e=a.props,t=e.saveButtons,n=e.cancelBtnClassName,s=e.saveBtnClassName;return t&&React.createElement("div",{className:"right"},React.createElement("div",{className:classNames("inline weight-400 pointer",n),onClick:a.handleOnCancel},"Cancel"),React.createElement("div",{className:classNames("pl1 inline weight-700 pointer",s),onClick:a.handleOnSave},"Save"))},a.state={mode:Modes.Display,localText:null},a}return inherits(t,Component),createClass(t,[{key:"render",value:function(){var e=this.props.placeholder,t=this.isEditMode();return React.createElement("div",null,t?this.editableText(e):this.displayText(e))}},{key:"editableText",value:function(e){var t=this.state.localText;return[React.createElement("input",{style:{width:"100%"},className:"input",autoFocus:!0,onKeyDown:this.handleOnKeyDown,onChange:this.handleOnChange,onBlur:this.handleOnBlur,value:t||"",placeholder:e,onClick:function(e){return e.stopPropagation()}}),this.renderSaveButtons()]}},{key:"displayText",value:function(e){var t=this.props,a=t.isEditable,n=t.text,s=t.displayClassName,o=t.icon,i=t.iconClassName,l=classNames({"opacity-60":!n});return React.createElement("div",{className:classNames("edit-text",s),onClick:this.handleOnClick},React.createElement("span",{className:l},n||e),a&&React.createElement("i",{className:classNames("fa fa-"+o+" pointer",i)}))}},{key:"fireOnChange",value:function(){var e=this.props,t=e.text,a=e.onChange,n=(this.state.localText||"").trim();n!==t&&a(n)}},{key:"isEditMode",value:function(){return this.state.mode===Modes.Edit}},{key:"isEnter",value:function(e){return"Enter"===e}},{key:"isEsc",value:function(e){return"Escape"===e}}]),t}();EditableText.displayName="EditableText",EditableText.defaultProps={text:"",placeholder:"",isEditable:!1,onChange:function(){},saveButtons:!1,displayClassName:"",icon:"pencil",iconClassName:"pl1",cancelBtnClassName:"",saveBtnClassName:""},EditableText.propTypes={text:PropTypes.string,placeholder:PropTypes.string,isEditable:PropTypes.bool,onChange:PropTypes.func,displayClassName:PropTypes.string,iconClassName:PropTypes.string,cancelBtnClassName:PropTypes.string,saveBtnClassName:PropTypes.string,icon:PropTypes.string,saveButtons:PropTypes.bool};export default EditableText;
//# sourceMappingURL=EditableText.js.map
