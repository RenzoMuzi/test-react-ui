{"version":3,"file":"Tabs.js","sources":["../src/ui/Tabs.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst SubtabTitle = ({ title, active, onClick }) => (\n  <li\n    onClick={onClick}\n    className={classNames(\n      'flex flex-center mr1 pc-px2 pt2 py1 inline-block fs13 pointer',\n      { 'border-bottom-medium border-bottom-orange primary': active },\n    )}\n  >\n    {title}\n  </li>\n);\n\nconst TabTitle = ({\n  title, active, onClick, className, activeClassname,\n}) => (\n  <li\n    onClick={onClick}\n    className={classNames('flex flex-center p1 inline-block pointer', className, { [activeClassname]: active })}\n  >\n    {title}\n  </li>\n);\n\nclass Tabs extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { active } = props;\n    this.tabNames = this.getTabs().map(tab => tab.props.name);\n\n    this.state = {\n      activeTab: active ? Math.max(this.tabNames.indexOf(active), 0) : 0,\n    };\n  }\n\n\n  componentWillReceiveProps(nextProps) {\n    const { active } = nextProps;\n    this.tabNames = this.getTabs().map(tab => tab.props.name);\n\n    if (active) {\n      this.setState({ activeTab: Math.max(this.tabNames.indexOf(active), 0) });\n    }\n  }\n\n  handleOnTabClicked = (index, name) => {\n    const { onTabChange } = this.props;\n\n    if (onTabChange) {\n      onTabChange(index, name);\n    } else {\n      this.setState({ activeTab: index });\n    }\n  };\n\n  render() {\n    const { spaced, containerClassname } = this.props;\n    const { activeTab } = this.state;\n\n    const tabs = this.getTabs();\n    const activeChildrenTab = React.cloneElement(tabs[activeTab]);\n    const leftTabTitles = tabs\n      .filter(tab => !tab.props.right)\n      .map(this.renderTabTitle);\n\n    const rightTabTitles = tabs\n      .filter(tab => tab.props.right)\n      .map((tab, index) => this.renderTabTitle(tab, index + leftTabTitles.length));\n\n    return (\n      <div>\n        <ul className={classNames('m0 list-reset flex justify-between', containerClassname)}>\n          <div\n            className={classNames('flex inline-block full-width', {\n              'justify-between': spaced,\n            })}\n            style={{ marginBottom: '-1px' }}\n          >\n            {leftTabTitles}\n          </div>\n          <div\n            className={classNames('flex inline-block full-width justify-end', {\n              'justify-between': spaced,\n            })}\n            style={{ marginBottom: '-1px' }}\n          >\n            {rightTabTitles}\n          </div>\n        </ul>\n        {activeChildrenTab}\n      </div>\n    );\n  }\n\n  renderTabTitle = (tab, index) => {\n    const { activeTab } = this.state;\n    const { className, subtab, activeClassname } = this.props;\n\n    const Component = subtab ? SubtabTitle : TabTitle;\n\n    return (\n      <Component\n        key={index}\n        title={tab.props.title}\n        active={activeTab === index}\n        to={tab.props.to}\n        className={className}\n        activeClassname={activeClassname}\n        onClick={() => this.handleOnTabClicked(index, tab.props.name)}\n      />\n    );\n  };\n\n  getTabs = () => {\n    const children = React.Children.toArray(this.props.children)\n      .filter(child => (child && child.type && child.type.displayName === 'Tab'));\n    const rightTabs = children.filter(tab => tab.props.right);\n    const leftTabs = children.filter(tab => !tab.props.right);\n    return leftTabs.concat(rightTabs);\n  };\n}\n\nexport const Tab = ({ className, children }) => (\n  <div className={className}>{React.Children.toArray(children)}</div>\n);\n\nSubtabTitle.displayName = 'SubtabTitle';\n\nSubtabTitle.defaultProps = { onClick: () => {} };\n\nSubtabTitle.propTypes = {\n  active: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n};\n\nTabs.displayName = 'Tabs';\n\nTabs.defaultProps = {\n  className: 'rounded-top weight-400 fs13 mr1',\n  activeClassname: 'border border-top border-gray border-bottom-white weight-700',\n  containerClassname: 'border-bottom border-gray',\n  subtab: false,\n  spaced: false,\n  children: null,\n  onTabChange: () => { },\n};\n\nTabs.propTypes = {\n  /** Active tab */\n  active: PropTypes.string.isRequired,\n  /** Custom CSS class name for the tab */\n  className: PropTypes.string,\n  /** Custom CSS class name for the tab active state */\n  activeClassname: PropTypes.string,\n  /** Custom CSS class name for the tabs container */\n  containerClassname: PropTypes.string,\n  /** Has subtabs or not */\n  subtab: PropTypes.bool,\n  /** Tabs are distributed on the container width */\n  spaced: PropTypes.bool,\n  /** Tab components */\n  children: PropTypes.node,\n  /** onchange event handler */\n  onTabChange: PropTypes.func,\n};\n\nTabTitle.displayName = 'TabTitle';\n\nTabTitle.defaultProps = { onClick: () => {} };\n\nTabTitle.propTypes = {\n  active: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  className: PropTypes.string.isRequired,\n  activeClassname: PropTypes.string.isRequired,\n};\n\nTab.displayName = 'Tab';\n\nTab.defaultProps = {\n  children: null,\n  className: null,\n};\n\nTab.propTypes = {\n  /** Custom CSS class name */\n  className: PropTypes.string,\n  /** Tab content */\n  children: PropTypes.node,\n};\n\nexport default Tabs;\n"],"names":["SubtabTitle","title","active","onClick","React","classNames","border-bottom-medium border-bottom-orange primary","TabTitle","className","activeClassname","Tabs","props","handleOnTabClicked","index","name","onTabChange","_this","setState","activeTab","renderTabTitle","tab","state","subtab","Component","to","getTabs","children","Children","toArray","filter","child","type","displayName","rightTabs","right","concat","tabNames","map","Math","max","indexOf","PureComponent","nextProps","this","spaced","containerClassname","tabs","activeChildrenTab","cloneElement","leftTabTitles","rightTabTitles","_this2","length","marginBottom","Tab","defaultProps","propTypes","PropTypes","bool","isRequired","string","func","node"],"mappings":"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"}