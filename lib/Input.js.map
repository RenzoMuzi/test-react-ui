{"version":3,"file":"Input.js","sources":["../src/ui/Input.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport const IntegerRegex = /^\\d{0,9}$/;\n\nclass Input extends Component {\n  handleOnBlur = e => {\n    const { target: { value } } = e;\n\n    this.props.onBlur(value);\n  };\n\n  handleOnChange = e => {\n    const { target: { value } } = e;\n    const { validRegex, onChange } = this.props;\n\n    if (!validRegex || value.match(validRegex) !== null) {\n      onChange(value);\n    }\n  };\n\n  handleOnKeyDown = e => {\n    const { onSubmit } = this.props;\n\n    const { key, target: { value } } = e;\n\n    if (key === 'Enter') {\n      onSubmit(value);\n    }\n  };\n\n  render() {\n    const { prefix } = this.props;\n\n    return prefix ? this.renderWithPrefix() : this.renderInput();\n  }\n\n  renderWithPrefix() {\n    const { prefix, prefixClassName } = this.props;\n\n    const prefixStyles = classNames(\n      'center width-32px input-prefix',\n      prefixClassName,\n    );\n\n    return (\n      <div className=\"flex flex-row\">\n        <span className={prefixStyles}>{prefix}</span>\n        {this.renderInput()}\n      </div>\n    );\n  }\n\n  renderInput() {\n    const {\n      placeholder,\n      className,\n      inputRef,\n      maxLength,\n      value,\n      autoFocus,\n      prefix,\n      type,\n      viewOnly,\n    } = this.props;\n\n    const inputClassName = classNames(\n      'input flex mb0 field',\n      className,\n      { 'with-prefix': !!prefix },\n    );\n\n    const disabledClassName = 'input flex mb0 field bg-gray gray-secondary';\n\n    return (\n      <input\n        type={type}\n        ref={inputRef}\n        className={viewOnly ? disabledClassName : inputClassName}\n        maxLength={maxLength}\n        onBlur={this.handleOnBlur}\n        onKeyDown={this.handleOnKeyDown}\n        onChange={this.handleOnChange}\n        placeholder={placeholder}\n        value={value || ''}\n        autoFocus={autoFocus}\n        disabled={viewOnly}\n      />\n    );\n  }\n}\n\nInput.displayName = 'Input';\n\nInput.defaultProps = {\n  type: 'text',\n  autoFocus: false,\n  className: '',\n  prefixClassName: '',\n  inputRef: () => {},\n  maxLength: null,\n  placeholder: '',\n  validRegex: null,\n  value: '',\n  viewOnly: false,\n  prefix: null,\n  onBlur: () => {},\n  onChange: () => {},\n  onSubmit: () => {},\n};\n\nInput.propTypes = {\n  /** Input type. Could be either text or password */\n  type: PropTypes.oneOf(['text', 'password']),\n  /** CSS class to customize the component */\n  className: PropTypes.string,\n  /** Reference to be handled from parent */\n  inputRef: PropTypes.func,\n  /** Maximum amount of characters */\n  maxLength: PropTypes.number,\n  /** Placeholder value */\n  placeholder: PropTypes.string,\n  /** Input value */\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Regex to be satisfied */\n  validRegex: PropTypes.object,\n  /** Enables or disables the Input */\n  viewOnly: PropTypes.bool,\n  /** Input's onBlur handler */\n  onBlur: PropTypes.func,\n  /** Input's onChange handler */\n  onChange: PropTypes.func,\n  /** Submit callback funciton */\n  onSubmit: PropTypes.func,\n  /** Input's autofocus */\n  autoFocus: PropTypes.bool,\n  /** Renders a prefix */\n  prefix: PropTypes.string,\n  /** Css class to customize the prefix */\n  prefixClassName: PropTypes.string,\n};\n\nexport default Input;\n"],"names":["IntegerRegex","Input","handleOnBlur","value","e","target","props","onBlur","handleOnChange","_this","validRegex","onChange","match","handleOnKeyDown","onSubmit","key","Component","this","prefix","renderWithPrefix","renderInput","prefixClassName","prefixStyles","classNames","React","className","placeholder","inputRef","maxLength","autoFocus","type","viewOnly","inputClassName","with-prefix","displayName","defaultProps","propTypes","PropTypes","oneOf","string","func","number","oneOfType","object","bool"],"mappings":"u9BAIaA,aAAe,YAEtBC,0PACJC,aAAe,gBACKC,EAAYC,EAAtBC,OAAUF,QAEbG,MAAMC,OAAOJ,MAGpBK,eAAiB,gBACGL,EAAYC,EAAtBC,OAAUF,QACeM,EAAKH,MAA9BI,IAAAA,WAAYC,IAAAA,SAEfD,GAA0C,OAA5BP,EAAMS,MAAMF,MACpBP,MAIbU,gBAAkB,gBACRC,EAAaL,EAAKH,MAAlBQ,SAEAC,EAA2BX,EAA3BW,IAAeZ,EAAYC,EAAtBC,OAAUF,MAEX,UAARY,KACOZ,qDAtBKa,gEA2BGC,KAAKX,MAAhBY,OAEQD,KAAKE,mBAAqBF,KAAKG,+DAIXH,KAAKX,MAAjCY,IAAAA,OAAQG,IAAAA,gBAEVC,EAAeC,WACnB,iCACAF,UAIAG,2BAAKC,UAAU,6CACPA,UAAWH,WACXF,2DAgBNH,KAAKX,MATPoB,IAAAA,YACAD,IAAAA,UACAE,IAAAA,SACAC,IAAAA,UACAzB,IAAAA,MACA0B,IAAAA,UACAX,IAAAA,OACAY,IAAAA,KACAC,IAAAA,SAGIC,EAAiBT,WACrB,uBACAE,GACEQ,gBAAiBf,WAMnBM,kCACQM,MACDH,YACMI,EANW,8CAMoBC,YAC/BJ,SACHX,KAAKf,uBACFe,KAAKJ,yBACNI,KAAKT,2BACFkB,QACNvB,GAAS,aACL0B,WACDE,aAMlB9B,MAAMiC,YAAc,QAEpBjC,MAAMkC,mBACE,kBACK,YACA,mBACM,YACP,uBACC,iBACE,cACD,WACL,aACG,SACF,YACA,sBACE,sBACA,cAGZlC,MAAMmC,gBAEEC,UAAUC,OAAO,OAAQ,uBAEpBD,UAAUE,gBAEXF,UAAUG,eAETH,UAAUI,mBAERJ,UAAUE,aAEhBF,UAAUK,WAAWL,UAAUE,OAAQF,UAAUI,oBAE5CJ,UAAUM,gBAEZN,UAAUO,YAEZP,UAAUG,cAERH,UAAUG,cAEVH,UAAUG,eAETH,UAAUO,YAEbP,UAAUE,uBAEDF,UAAUE"}