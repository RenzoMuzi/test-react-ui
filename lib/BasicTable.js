import React,{Component}from"react";import PropTypes from"prop-types";import classNames from"classnames";var isArray=Array.isArray,isArray_1=isArray,commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),a=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var r=nativeObjectToString.call(e);return t?e[symToStringTag]=a:delete e[symToStringTag],r}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray_1(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!isSymbol_1(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var _isKey=isKey;function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject_1(e)||_isMasked(e))&&(isFunction_1(e)?reIsNative:reIsHostCtor).test(_toSource(e))}var _baseIsNative=baseIsNative;function getValue(e,t){return null==e?void 0:e[t]}var _getValue=getValue;function getNative(e,t){var a=_getValue(e,t);return _baseIsNative(a)?a:void 0}var _getNative=getNative,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashGet(e){var t=this.__data__;if(_nativeCreate){var a=t[e];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty$2.call(t,e)?t[e]:void 0}var _hashGet=hashGet,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashHas(e){var t=this.__data__;return _nativeCreate?void 0!==t[e]:hasOwnProperty$3.call(t,e)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=_nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet;function Hash(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function eq(e,t){return e===t||e!=e&&t!=t}var eq_1=eq;function assocIndexOf(e,t){for(var a=e.length;a--;)if(eq_1(e[a][0],t))return a;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,a=_assocIndexOf(t,e);return!(a<0)&&(a==t.length-1?t.pop():splice.call(t,a,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(e){var t=this.__data__,a=_assocIndexOf(t,e);return a<0?void 0:t[a][1]}var _listCacheGet=listCacheGet;function listCacheHas(e){return _assocIndexOf(this.__data__,e)>-1}var _listCacheHas=listCacheHas;function listCacheSet(e,t){var a=this.__data__,r=_assocIndexOf(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this}var _listCacheSet=listCacheSet;function ListCache(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache,Map=_getNative(_root,"Map"),_Map=Map;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable;function getMapData(e,t){var a=e.__data__;return _isKeyable(t)?a["string"==typeof t?"string":"hash"]:a.map}var _getMapData=getMapData;function mapCacheDelete(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(e){return _getMapData(this,e).get(e)}var _mapCacheGet=mapCacheGet;function mapCacheHas(e){return _getMapData(this,e).has(e)}var _mapCacheHas=mapCacheHas;function mapCacheSet(e,t){var a=_getMapData(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var r=arguments,o=t?t.apply(this,r):r[0],n=a.cache;if(n.has(o))return n.get(o);var s=e.apply(this,r);return a.cache=n.set(o,s)||n,s};return a.cache=new(memoize.Cache||_MapCache),a}memoize.Cache=_MapCache;var memoize_1=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize_1(e,function(e){return a.size===MAX_MEMOIZE_SIZE&&a.clear(),e}),a=t.cache;return t}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=_memoizeCapped(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,function(e,a,r,o){t.push(r?o.replace(reEscapeChar,"$1"):a||e)}),t}),_stringToPath=stringToPath;function arrayMap(e,t){for(var a=-1,r=null==e?0:e.length,o=Array(r);++a<r;)o[a]=t(e[a],a,e);return o}var _arrayMap=arrayMap,INFINITY=1/0,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray_1(e))return _arrayMap(e,baseToString)+"";if(isSymbol_1(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}var _baseToString=baseToString;function toString(e){return null==e?"":_baseToString(e)}var toString_1=toString;function castPath(e,t){return isArray_1(e)?e:_isKey(e,t)?[e]:_stringToPath(toString_1(e))}var _castPath=castPath,INFINITY$1=1/0;function toKey(e){if("string"==typeof e||isSymbol_1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}var _toKey=toKey;function baseGet(e,t){for(var a=0,r=(t=_castPath(t,e)).length;null!=e&&a<r;)e=e[_toKey(t[a++])];return a&&a==r?e:void 0}var _baseGet=baseGet;function get(e,t,a){var r=null==e?void 0:_baseGet(e,t);return void 0===r?a:r}var get_1=get,Checkbox=function(e){var t=e.value,a=e.viewOnly,r=e.onChange,o=e.className;return React.createElement("input",{type:"checkbox",className:classNames("checkbox",o),checked:t,disabled:a,onChange:function(e){var t=e.target.checked;return r(t)}})};Checkbox.displayName="Checkbox",Checkbox.defaultProps={value:!1,viewOnly:!1,onChange:function(){},className:"inline"},Checkbox.propTypes={value:PropTypes.bool,viewOnly:PropTypes.bool,onChange:PropTypes.func,className:PropTypes.string};var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},BasicTable=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,Component),createClass(t,[{key:"render",value:function(){var e=this.props.loading;return React.createElement("table",{className:classNames("c-table",{"c-table__modal":this.props.modal})},this.renderHeader(),e?this.renderLoading():this.renderBody())}},{key:"renderLoading",value:function(){var e=this.props,t=e.columns,a=e.loadingSrc,r=e.loadingClassName;return React.createElement("tbody",{className:"center p1"},React.createElement("tr",null,React.createElement("td",{colSpan:t.length},React.createElement("img",{src:a,alt:"loading",className:r}))))}},{key:"renderHeader",value:function(){var e=this,t=this.props,a=t.columns,r=t.removeAction,o=t.selectAction,n=t.headerClassName,s=this.calculateTableFlexSize();return React.createElement("thead",{className:n},React.createElement("tr",{className:"pl1"},o&&this.renderSelectAllHeader(),a.map(function(t,a){return e.renderColumnHeader(t,s,a)}),r&&React.createElement("th",{style:{width:"21px"}})))}},{key:"renderSelectAllHeader",value:function(){var e=this.props.onSelectAllChange,t=this.isAllChecked();return React.createElement("th",{className:"p0 px1",style:{width:"21px"}},React.createElement(Checkbox,{value:t,onChange:function(t){return e(t)}}))}},{key:"renderColumnHeader",value:function(e,t,a){var r=this.props,o=r.alignTop,n=r.columnHeader,s=e.title,c=e.flexSize,i=this.calculateColumnWidthStyle(c,t),l=classNames("uppercase","py1","fs13",{"align-top":o}),p=n?n(e):React.createElement("div",{className:"weight-700"},s.toUpperCase());return React.createElement("th",{style:{width:i},className:l,key:a},p)}},{key:"renderBody",value:function(){var e=this,t=this.props,a=t.records,r=t.removeAction,o=t.selectAction,n=t.highlightFunc,s=t.highlightClass;return React.createElement("tbody",null,a.map(function(t,a){var c=n&&n(t)?s:"";return React.createElement("tr",{key:a,className:classNames("border-top border-gray-50 pl1",c)},o&&e.renderSelectActionCell(t,a),e.renderRowCells(t),r&&e.renderDeleteActionCell(t,a))}),a.length>0&&this.renderEmptyState())}},{key:"renderRowCells",value:function(e){var t=this,a=this.props,r=a.alignTop,o=a.columns,n=this.calculateTableFlexSize(),s=classNames("fs13",{"align-top":r});return o.map(function(a,r){return React.createElement("td",{className:s,key:r,style:{width:t.calculateColumnWidthStyle(a.flexSize,n)}},t.renderCellContent(e,a,r))})}},{key:"renderCellContent",value:function(e,t){var a=this.props,r=a.cell,o=a.viewOnly,n=t.format,s=t.key;return o&&n?n(get_1(e,s)):r(e,t)}},{key:"renderSelectActionCell",value:function(e,t){var a=this.props,r=a.selectedRecords,o=a.onSelectChange;return React.createElement("td",{className:"p0 px1"},React.createElement(Checkbox,{value:r[t],onChange:function(a){return o(e,a,t)}}))}},{key:"renderDeleteActionCell",value:function(e,t){var a=this.props,r=a.viewOnly,o=a.onDelete,n=a.deleteClassName;return React.createElement("td",null,!r&&React.createElement("i",{className:n,onClick:function(){return o(e,t)}}))}},{key:"renderEmptyState",value:function(){var e=this.props,t=e.columns,a=e.removeAction,r=e.emptyState,o=a?t.length+1:t.length;return React.createElement("tr",{className:"pl1"},React.createElement("td",{colSpan:o},r()))}},{key:"calculateTableFlexSize",value:function(){return this.props.columns.reduce(function(e,t){return e+(t.flexSize||0)},0)}},{key:"calculateColumnWidthStyle",value:function(e,t){return e?100*e/t+"%":"auto"}},{key:"isAllChecked",value:function(){var e=this.props,t=e.records,a=e.selectedRecords;return a.every(function(e){return e})&&a.length===t.length}}]),t}();BasicTable.displayName="Table",BasicTable.defaultProps={alignTop:!1,columnHeader:function(){},columns:[],records:[],selectedRecords:[],emptyState:function(){},modal:!1,removeAction:!1,selectAction:!1,viewOnly:!1,onDelete:function(){},onSelectAllChange:function(){},onSelectChange:function(){},highlightFunc:function(){},highlightClass:"",loading:!1,loadingClassName:"align-center width-32px",headerClassName:"c-table__header",deleteClassName:"fa fa-times primary pointer"},BasicTable.propTypes={alignTop:PropTypes.bool,columns:PropTypes.array,emptyState:PropTypes.func,records:PropTypes.array,removeAction:PropTypes.bool,selectAction:PropTypes.bool,selectedRecords:PropTypes.arrayOf(PropTypes.bool),cell:PropTypes.func.isRequired,columnHeader:PropTypes.func,viewOnly:PropTypes.bool,onDelete:PropTypes.func,onSelectAllChange:PropTypes.func,onSelectChange:PropTypes.func,highlightFunc:PropTypes.func,highlightClass:PropTypes.string,modal:PropTypes.bool,loading:PropTypes.bool,loadingSrc:PropTypes.string.isRequired,loadingClassName:PropTypes.string,headerClassName:PropTypes.string,deleteClassName:PropTypes.string};export default BasicTable;
//# sourceMappingURL=BasicTable.js.map
