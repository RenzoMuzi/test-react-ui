import classNames from"classnames";import PropTypes from"prop-types";import React,{Component}from"react";var classCallCheck=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(o,t,n){return t&&e(o.prototype,t),n&&e(o,n),o}}(),inherits=function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)},possibleConstructorReturn=function(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?e:o},ModalContainerSelector=".c-modal__container",Modal=function(e){function o(e){classCallCheck(this,o);var t=possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.handleOnClickModal=function(e){e.stopPropagation()},t.close=function(e){var o=t.props.onClose;e.preventDefault(),o&&o()},t.backdrop=null,t}return inherits(o,Component),createClass(o,[{key:"componentDidMount",value:function(){var e=this.props,o=e.isOpen,t=e.allowScrolling;o&&!t&&this.hideBodyOverflow()}},{key:"componentDidUpdate",value:function(e){var o=this.props,t=o.isOpen;o.allowScrolling||(!e.isOpen&&t?this.hideBodyOverflow():e.isOpen&&!t&&this.unsetBodyOverflow())}},{key:"componentWillUnmount",value:function(){this.props.isOpen&&this.unsetBodyOverflow()}},{key:"render",value:function(){var e=this,o=this.props,t=o.isOpen,n=o.children,s=o.positionClassName,l=o.containerClassName,r=o.contentClassName,a=o.backgroundClassName,i=o.styleClass,c=o.position;return t&&React.createElement("div",{className:"c-modal__viewport"},React.createElement("div",{className:classNames(["c-modal__backdrop",a]),onClick:this.close,ref:function(o){e.backdrop=o}},React.createElement("div",{className:classNames("c-modal__container",{"c-modal__container-left":c.includes("left"),"c-modal__container-right":c.includes("right"),"c-modal__container-top":c.includes("top"),"c-modal__container-bottom":c.includes("bottom"),"c-modal__container-absolute":"absolute"===c},s,l)},React.createElement("div",{className:classNames("c-modal","bg-white","border","border-gray",{"c-modal-width":!c||"center"===c},i,r),onClick:this.handleOnClickModal},n))))}},{key:"scrollToTop",value:function(){this.backdrop.scrollTop=0}},{key:"hideBodyOverflow",value:function(){document.body.style.overflow="hidden"}},{key:"unsetBodyOverflow",value:function(){document.body.style.overflow="visible"}}]),o}();Modal.displayName="Modal",Modal.defaultProps={isOpen:!1,positionClassName:null,containerClassName:"",children:null,onClose:function(){},styleClass:"",contentClassName:"",allowScrolling:!1,position:"center",backgroundClassName:"bg-white-muted"},Modal.propTypes={isOpen:PropTypes.bool,positionClassName:PropTypes.string,children:PropTypes.node,onClose:PropTypes.func,styleClass:PropTypes.string,allowScrolling:PropTypes.bool,position:PropTypes.string,containerClassName:PropTypes.string,contentClassName:PropTypes.string,backgroundClassName:PropTypes.string};export default Modal;export{ModalContainerSelector};
//# sourceMappingURL=Modal.js.map
